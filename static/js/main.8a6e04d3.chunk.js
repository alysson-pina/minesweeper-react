(this.webpackJsonpspekit=this.webpackJsonpspekit||[]).push([[0],[,,,,,function(n,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"a",(function(){return r}));var o=function(n,t){return{i:Math.floor(n/t),j:n%t}},r=function(n,t,e){return Number.parseInt(n)+Number.parseInt(t)*e}},function(n,t,e){"use strict";var o=e(36);t.a=function(){var n=Object(o.a)("(min-width:980px)"),t=Object(o.a)("(max-width:596px)");return n?"LARGE":t?"SMALL":"MEDIUM"}},function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var o=16},,function(n,t,e){"use strict";e.d(t,"a",(function(){return i.a})),e.d(t,"d",(function(){return w})),e.d(t,"c",(function(){return B})),e.d(t,"b",(function(){return A}));var o,r,c,i=e(15),a=e(2),u=e(0),s=e.n(u),f=e(7),d=e(5),b=function(n,t){for(var e,o=Array.from({length:f.a*n},(function(t,e){return{i:Math.floor(e/n),j:e%n,value:""}})),r=0;r<t;)"B"!==o[e=Math.floor(Math.random()*f.a*n)].value&&(o[e].value="B",l(o,e,n),r+=1);return o},l=function(n,t,e){var o,r,c=Object(d.b)(t,e),i=c.i,a=c.j,u=[i-1,i,i+1],s=[a-1,a,a+1];for(var b in u)for(var l in s){var p;u[b]<0||s[l]<0||s[l]>=e||u[b]>=f.a||n[o=Object(d.a)(s[l],u[b],e)]&&"B"!==(null===(p=n[o])||void 0===p?void 0:p.value)&&(r=n[o].value,n[o].value=r?r+1:1)}},p=e(3),j=e(4),v=j.a.div(o||(o=Object(p.a)(["\n  margin: 20px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n"]))),x=e(6),O=function(){switch(Object(x.a)()){case"SMALL":return 36;case"MEDIUM":return 52;default:return 99}},g=function(){switch(Object(x.a)()){case"SMALL":return 11;case"MEDIUM":return 16;default:return 30}},h=e(1),w=function(){var n=O(),t=g(),e=Object(u.useState)(1),o=Object(a.a)(e,2),r=o[0],c=o[1],s=Object(u.useState)(n),f=Object(a.a)(s,2),d=f[0],l=f[1],p=Object(u.useState)(n),j=Object(a.a)(p,2),x=j[0],w=j[1],m=Object(u.useState)(!1),k=Object(a.a)(m,2),M=k[0],B=k[1],L=Object(u.useState)(!1),S=Object(a.a)(L,2),C=S[0],y=S[1],D=Object(u.useState)(!1),E=Object(a.a)(D,2),U=E[0],I=E[1],F=Object(u.useState)(b(t,n)),R=Object(a.a)(F,2),z=R[0],N=R[1],P=Object(u.useCallback)((function(){l(n),w(n),y(!1),B(!1)}),[l,y,B,n]);Object(u.useEffect)((function(){N(b(t,n)),P()}),[n,P,t]);return Object(h.jsxs)("div",{children:[Object(h.jsxs)(v,{children:[Object(h.jsxs)("div",{children:["Bombs left: ",d]}),Object(h.jsx)(A,{won:M,lost:C,mouseDown:U,restartGame:function(){c((function(){return r+1})),N(b(t,n)),P()}}),Object(h.jsx)("div",{children:C?"You lost!":M?"You won!":"Attempt #".concat(r)})]}),Object(h.jsx)("div",{onMouseDown:function(){return I(!0)},onMouseUp:function(){return I(!1)},children:Object(h.jsx)(i.a,{bombCount:d,updateBombCount:function(n,t){var e=n?-1:1;l(d+e),t&&(w(x+e),x+e===0&&d+e===0&&B(!0))},won:M,lost:C,setLost:y,structure:z,width:t})})]})},m=function(n){return"".concat("/minesweeper-react","/").concat(n)},k=j.a.div(r||(r=Object(p.a)(["\n  flex: 1 1 32px;\n  width: 32px;\n  height: 32px;\n  background-image: url(",");\n  background-position: 0 -78px;\n\n  &.unclicked {\n    background-position: 0 -78px;\n  }\n\n  &.bomb {\n    background-position: ","\n  }\n\n  &.mistakenBomb {\n    background-position: -96px -78px;\n  }\n  \n  &.zero {\n    background-position: 0 -46px;\n  }\n\n  &.flag {\n    background-position: -32px -78px;\n  }\n\n  &.one {\n    background-position: -32px -46px;\n  }\n\n  &.two {\n    background-position: -64px -46px;\n  }\n\n  &.three {\n    background-position: -96px -46px;\n  }\n\n  &.four {\n    background-position: -128px -46px;\n  }\n\n  &.five {\n    background-position: -160px -46px;\n  }\n\n  &.six {\n    background-position: -192px -46px;\n  }\n\n  &.seven {\n    background-position: -224px -46px;\n  }\n\n  &.eigth {\n    background-position: -256px -46px;\n  }\n"])),m("sprite200.gif"),(function(n){return n.mistakeWasHere?"-64px -78px":"-128px -78px;"})),M=Object.freeze({0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eigth",B:"bomb",MB:"mistakenBomb",F:"flag",U:"unclicked"}),B=s.a.forwardRef((function(n,t){var e=n.hasMine,o=n.value,r=n.won,c=n.lost,i=n.setLost,s=n.updateBombCount,f=n.row,d=n.column,b=n.revealNeighborhood,l=Object(u.useState)(!1),p=Object(a.a)(l,2),j=p[0],v=p[1],x=Object(u.useState)(!1),O=Object(a.a)(x,2),g=O[0],w=O[1],m=Object(u.useState)("U"),B=Object(a.a)(m,2),L=B[0],A=B[1];Object(u.useEffect)((function(){c?"F"===L?e||A("MB"):A(o||0):(A("U"),v(!1),w(!1))}),[c,e,A,o]);return Object(h.jsx)(k,{tabIndex:0,ref:t,onClick:function(n){n.preventDefault(),j||c||r||"F"===L||(n.target.focus(),v(!0),e?(A("B"),i(!0)):A(o||0),""===o&&b(f,d))},onContextMenu:function(n){if(n.preventDefault(),!(j||c||r)){var t=!g;n.target.focus(),s(t,e),w(t),A(t?"F":"U")}},mistakeWasHere:e&&j,className:"row".concat(f+1,"_column").concat(d+1," ").concat(M[L]),"data-testid":"minefield"})})),L=j.a.div(c||(c=Object(p.a)(["\n  background-image: url(",");\n  background-position: "," -110px;\n  width: 52px;\n  height: 52px;\n"])),m("sprite200.gif"),(function(n){return n.startPosition})),A=function(n){var t=n.won,e=n.lost,o=n.mouseDown,r=n.restartGame,c=t?"-208px":e?"-156px":o?"-104px":"0";return Object(h.jsx)(L,{startPosition:c,onClick:function(){return r()}})}},,,function(n,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"a",(function(){return r}));var o=function(n){return new MouseEvent("contextmenu",{bubbles:!0,cancelable:!1,view:window,button:2,buttons:0,clientX:null===n||void 0===n?void 0:n.getBoundingClientRect().x,clientY:null===n||void 0===n?void 0:n.getBoundingClientRect().y})},r=Object.freeze(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"])},,,function(n,t,e){"use strict";(function(n){var o=e(2),r=e(0),c=e(21),i=e(9),a=e(5),u=e(22),s=e(7),f=e(12),d=e(23),b=e(1);t.a=function(t){var e=t.updateBombCount,l=t.won,p=t.lost,j=t.setLost,v=t.structure,x=t.width,O=Object(r.useRef)([]),g=Object(u.a)(),h=function(t,e){var o=Object(a.a)(e,t,x),r=[e-1,e,e+1],c=[t-1,t,t+1];for(var i in r){var u=function(t){var e=Object(a.a)(r[i],c[t],x);if(e===o||r[i]<0||c[t]<0||c[t]>=s.a||r[i]>=x)return"continue";var u=O.current[e];n((function(){return null===u||void 0===u?void 0:u.click()}))};for(var f in c)u(f)}};return Object(b.jsx)(c.a,{width:g,onKeyDown:function(n){var t=Object(d.a)(n,x),e=Object(o.a)(t,1)[0],r=O.current[e];if("Space"===n.code){var c=Object(f.b)(r);null===r||void 0===r||r.dispatchEvent(c)}else"KeyC"===n.code||"Enter"===n.code?null===r||void 0===r||r.click():f.a.indexOf(n.code)>=0&&function(n,t){var e,o=0;switch(t){case"ArrowLeft":o=-1;break;case"ArrowRight":o=1;break;case"ArrowUp":o=-x;break;case"ArrowDown":o=x}var r=n+o,c=null===O||void 0===O?void 0:O.current.length;r<0&&(r+=c-1),r>=c&&(r-=c-1),null===O||void 0===O||null===(e=O.current[r])||void 0===e||e.focus()}(e,n.code)},children:null===v||void 0===v?void 0:v.map((function(n){var t=n.i,o=n.j,r=n.value,c=Object(a.a)(o,t,x);return Object(b.jsx)(i.c,{ref:function(n){O.current[c]=n},row:t,column:o,hasMine:"B"===r,value:r,won:l,lost:p,setLost:j,updateBombCount:e,revealNeighborhood:h},"".concat(t,"_").concat(o))}))})}}).call(this,e(30).setImmediate)},,,,,,function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var o,r=e(3),c=e(4).a.div(o||(o=Object(r.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: ",";\n"])),(function(n){return n.width}))},function(n,t,e){"use strict";var o=e(6);t.a=function(){switch(Object(o.a)()){case"SMALL":return"352px";case"MEDIUM":return"516px";default:return"970px"}}},function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var o=e(2),r=e(5),c=function(n,t){var e,c;if(n&&n.target&&(n.target.classList.forEach((function(n){var t=n.match(/row(\d{1,2})_column(\d{1,2})/);if(t){var r=Object(o.a)(t,3);e=r[1],c=r[2]}})),e&&c)){var i=e-1,a=c-1;return[Object(r.a)(a,i,t),e,a]}}},,,,,function(n,t,e){},,,,,function(n,t,e){"use strict";e.r(t);var o,r,c,i,a=e(0),u=e.n(a),s=e(17),f=e.n(s),d=(e(28),e.p+"static/media/logo.6ce24c58.svg"),b=e(3),l=e(4),p=l.a.main(o||(o=Object(b.a)(["\n  width: 100%;\n  text-align: center;\n"]))),j=l.a.h1(r||(r=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  margin: 0;\n  padding: 16px 0;\n  width: 100%;\n"]))),v=l.a.section(c||(c=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  color: white;\n"]))),x=l.a.img(i||(i=Object(b.a)(["\n  pointer-events: none;\n\n  @media (prefers-reduced-motion: no-preference) {\n      animation: App-logo-spin infinite 20s linear;\n  }\n\n  @keyframes App-logo-spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),O=e(9),g=e(1),h=function(){return Object(g.jsxs)(p,{children:[Object(g.jsxs)(j,{children:["Modern React Minesweeper ",Object(g.jsx)(x,{width:"64",src:d,alt:"react logo"})]}),Object(g.jsx)(v,{children:Object(g.jsx)(O.d,{})})]})},w=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,37)).then((function(t){var e=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;e(n),o(n),r(n),c(n),i(n)}))};f.a.render(Object(g.jsx)(u.a.StrictMode,{children:Object(g.jsx)(h,{})}),document.getElementById("root")),w()}],[[33,1,2]]]);
//# sourceMappingURL=main.8a6e04d3.chunk.js.map