(this.webpackJsonpspekit=this.webpackJsonpspekit||[]).push([[0],{12:function(n,t,e){"use strict";(function(n){var o=e(0),c=e(16),i=e(8),r=e(5),u=e(7),a=e(1);t.a=function(t){var e=t.bombCount,s=t.setBombCount,b=t.lost,p=t.setLost,f=t.structure,d=t.width,l=t.height,j=Object(o.useRef)([]),x=Object(u.a)(),v=function(n){return s(e+(n?-1:1))},h=function(t,e){var o=Object(r.a)(e,t,d),c=[e-1,e,e+1],i=[t-1,t,t+1];for(var u in c){var a=function(t){var e=Object(r.a)(c[u],i[t],d);if(e===o||c[u]<0||i[t]<0||i[t]>=l||c[u]>=d)return"continue";var a=j.current[e];n((function(){return a.click()}))};for(var s in i)a(s)}};return Object(a.jsx)(c.a,{isLargeScreen:x,children:null===f||void 0===f?void 0:f.map((function(n){var t=n.i,e=n.j,o=n.value,c=Object(r.a)(e,t,d);return Object(a.jsx)(i.b,{ref:function(n){j.current[c]=n},row:t,column:e,hasMine:"B"===o,value:o,lost:b,setLost:p,updateBombCount:v,revealNeighborhood:h},"".concat(t,"_").concat(e))}))})}}).call(this,e(26).setImmediate)},16:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var o,c=e(3),i=e(4).a.div(o||(o=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: ",";\n"])),(function(n){return n.isLargeScreen?"970px":"516px"}))},24:function(n,t,e){},25:function(n,t,e){},30:function(n,t,e){"use strict";e.r(t);var o=e(0),c=e.n(o),i=e(15),r=e.n(i),u=(e(24),e.p+"static/media/logo.6ce24c58.svg"),a=(e(25),e(8)),s=e(1),b=function(){return Object(s.jsxs)("main",{className:"App",children:[Object(s.jsxs)("h1",{children:["Modern React Minesweeper ",Object(s.jsx)("img",{width:"64",src:u,className:"App-logo",alt:"react logo"})]}),Object(s.jsx)("section",{className:"App-header",children:Object(s.jsx)(a.c,{})})]})},p=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,34)).then((function(t){var e=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;e(n),o(n),c(n),i(n),r(n)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(b,{})}),document.getElementById("root")),p()},5:function(n,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"a",(function(){return c}));var o=function(n,t){return{i:Math.floor(n/t),j:n%t}},c=function(n,t,e){return Number.parseInt(n)+Number.parseInt(t)*e}},7:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var o=e(31),c=function(){return Object(o.a)("(min-width:980px)")}},8:function(n,t,e){"use strict";e.d(t,"a",(function(){return r.a})),e.d(t,"c",(function(){return O})),e.d(t,"b",(function(){return k}));var o,c,i,r=e(12),u=e(2),a=e(0),s=e.n(a),b=e(5),p=function(n,t,e,o){var c,i,r=Object(b.b)(t,e),u=r.i,a=r.j,s=[u-1,u,u+1],p=[a-1,a,a+1];for(var f in s)for(var d in p){var l;s[f]<0||p[d]<0||p[d]>=e||s[f]>=o||n[c=Object(b.a)(p[d],s[f],e)]&&"B"!==(null===(l=n[c])||void 0===l?void 0:l.value)&&(i=n[c].value,n[c].value=i?i+1:1)}},f=e(7),d=e(3),l=e(4),j=function(n){return"".concat("/minesweeper-react","/").concat(n)},x=l.a.div(o||(o=Object(d.a)(["\n  margin: 20px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n"]))),v=l.a.div(c||(c=Object(d.a)(["\n  background-image: url(",");\n  background-position: ",";\n  width: 52px;\n  height: 52px;\n"])),j("sprite200.gif"),(function(n){return n.mouseDown?"-104px -110px":n.lost?"-156px -110px":"0 -110px"})),h=e(1),O=function(){var n=Object(f.a)(),t=n?30:16,e=Object(a.useState)(1),o=Object(u.a)(e,2),c=o[0],i=o[1],s=Object(a.useState)(n?99:52),b=Object(u.a)(s,2),d=b[0],l=b[1],j=Object(a.useState)(!1),O=Object(u.a)(j,2),g=O[0],m=O[1],k=Object(a.useState)(!1),w=Object(u.a)(k,2),B=w[0],M=w[1],C=Object(a.useMemo)((function(){return function(n,t,e){for(var o,c=Array.from({length:n*t},(function(n,e){return{i:Math.floor(e/t),j:e%t,value:""}})),i=0;i<e;)"B"!==c[o=Math.floor(Math.random()*n*t)].value&&(c[o].value="B",p(c,o,t,n),i+=1);return c}(16,t,d)}),[c,t]),S=Object(a.useCallback)((function(t){l(n?99:52),i((function(n){return n+t?0:1})),m(!1)}),[i,l,m,n]);return Object(a.useEffect)((function(){S(!0)}),[S,n]),Object(h.jsxs)("div",{children:[Object(h.jsxs)(x,{children:[Object(h.jsxs)("div",{children:["Bombs left: ",d]}),Object(h.jsx)(v,{lost:g,mouseDown:B,onClick:S}),Object(h.jsx)("div",{children:g?"You lost!":"Attempt #".concat(c)})]}),Object(h.jsx)("div",{onMouseDown:function(){return M(!0)},onMouseUp:function(){return M(!1)},children:Object(h.jsx)(r.a,{bombCount:d,setBombCount:l,lost:g,setLost:m,structure:C,width:t,height:16})})]})},g=l.a.div(i||(i=Object(d.a)(["\n  flex: 1 1 32px;\n  width: 32px;\n  height: 32px;\n  background-image: url(",");\n  background-position: 0 -78px;\n\n  &.unclicked {\n    background-position: 0 -78px;\n  }\n\n  &.bomb {\n    background-position: ","\n  }\n\n  &.mistakenBomb {\n    background-position: -96px -78px;\n  }\n  \n  &.zero {\n    background-position: 0 -46px;\n  }\n\n  &.flag {\n    background-position: -32px -78px;\n  }\n\n  &.one {\n    background-position: -32px -46px;\n  }\n\n  &.two {\n    background-position: -64px -46px;\n  }\n\n  &.three {\n    background-position: -96px -46px;\n  }\n\n  &.four {\n    background-position: -128px -46px;\n  }\n\n  &.five {\n    background-position: -160px -46px;\n  }\n\n  &.six {\n    background-position: -192px -46px;\n  }\n\n  &.seven {\n    background-position: -224px -46px;\n  }\n\n  &.eigth {\n    background-position: -256px -46px;\n  }\n"])),j("sprite200.gif"),(function(n){return n.mistakeWasHere?"-64px -78px":"-128px -78px;"})),m=Object.freeze({0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eigth",B:"bomb",MB:"mistakenBomb",F:"flag",U:"unclicked"}),k=s.a.forwardRef((function(n,t){var e=n.hasMine,o=n.value,c=n.lost,i=n.setLost,r=n.updateBombCount,s=n.row,b=n.column,p=n.revealNeighborhood,f=Object(a.useState)(!1),d=Object(u.a)(f,2),l=d[0],j=d[1],x=Object(a.useState)(!1),v=Object(u.a)(x,2),O=v[0],k=v[1],w=Object(a.useState)("U"),B=Object(u.a)(w,2),M=B[0],C=B[1];Object(a.useEffect)((function(){c?"F"===M?e||C("MB"):C(o||0):(C("U"),j(!1),k(!1))}),[c,e,C,o]);return Object(h.jsx)(g,{ref:t,onClick:function(n){n.preventDefault(),l||c||"F"===M||(j(!0),e?(C("B"),i(!0)):C(o||0),""===o&&p(s,b))},onContextMenu:function(n){if(n.preventDefault(),!l&&!c){var t=!O;r(t),k(t),C(t?"F":"U")}},mistakeWasHere:e&&l,className:"row".concat(s+1,"_column").concat(b+1," ").concat(m[M]),"data-testid":"minefield"})}))}},[[30,1,2]]]);
//# sourceMappingURL=main.af8cda47.chunk.js.map