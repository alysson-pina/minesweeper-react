(this.webpackJsonpspekit=this.webpackJsonpspekit||[]).push([[0],{14:function(n,t,e){"use strict";(function(n){var o=e(0),r=e(20),c=e(9),i=e(5),a=e(21),u=e(7),s=e(1);t.a=function(t){var e=t.updateBombCount,f=t.won,b=t.lost,d=t.setLost,p=t.structure,l=t.width,j=Object(o.useRef)([]),x=Object(a.a)(),O=function(t,e){var o=Object(i.a)(e,t,l),r=[e-1,e,e+1],c=[t-1,t,t+1];for(var a in r){var s=function(t){var e=Object(i.a)(r[a],c[t],l);if(e===o||r[a]<0||c[t]<0||c[t]>=u.a||r[a]>=l)return"continue";var s=j.current[e];n((function(){return null===s||void 0===s?void 0:s.click()}))};for(var f in c)s(f)}};return Object(s.jsx)(r.a,{width:x,children:null===p||void 0===p?void 0:p.map((function(n){var t=n.i,o=n.j,r=n.value,a=Object(i.a)(o,t,l);return Object(s.jsx)(c.c,{ref:function(n){j.current[a]=n},row:t,column:o,hasMine:"B"===r,value:r,won:f,lost:b,setLost:d,updateBombCount:e,revealNeighborhood:O},"".concat(t,"_").concat(o))}))})}}).call(this,e(28).setImmediate)},20:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var o,r=e(2),c=e(3).a.div(o||(o=Object(r.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: ",";\n"])),(function(n){return n.width}))},21:function(n,t,e){"use strict";var o=e(6);t.a=function(){switch(Object(o.a)()){case"SMALL":return"352px";case"MEDIUM":return"516px";default:return"970px"}}},26:function(n,t,e){},31:function(n,t,e){"use strict";e.r(t);var o,r,c,i,a=e(0),u=e.n(a),s=e(16),f=e.n(s),b=(e(26),e.p+"static/media/logo.6ce24c58.svg"),d=e(2),p=e(3),l=p.a.main(o||(o=Object(d.a)(["\n  width: 100%;\n  text-align: center;\n"]))),j=p.a.h1(r||(r=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  margin: 0;\n  padding: 16px 0;\n  width: 100%;\n"]))),x=p.a.section(c||(c=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  color: white;\n"]))),O=p.a.img(i||(i=Object(d.a)(["\n  pointer-events: none;\n\n  @media (prefers-reduced-motion: no-preference) {\n      animation: App-logo-spin infinite 20s linear;\n  }\n\n  @keyframes App-logo-spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),v=e(9),h=e(1),m=function(){return Object(h.jsxs)(l,{children:[Object(h.jsxs)(j,{children:["Modern React Minesweeper ",Object(h.jsx)(O,{width:"64",src:b,alt:"react logo"})]}),Object(h.jsx)(x,{children:Object(h.jsx)(v.d,{})})]})},g=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,35)).then((function(t){var e=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;e(n),o(n),r(n),c(n),i(n)}))};f.a.render(Object(h.jsx)(u.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),g()},5:function(n,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"a",(function(){return r}));var o=function(n,t){return{i:Math.floor(n/t),j:n%t}},r=function(n,t,e){return Number.parseInt(n)+Number.parseInt(t)*e}},6:function(n,t,e){"use strict";var o=e(34);t.a=function(){var n=Object(o.a)("(min-width:980px)"),t=Object(o.a)("(max-width:596px)");return n?"LARGE":t?"SMALL":"MEDIUM"}},7:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var o=16},9:function(n,t,e){"use strict";e.d(t,"a",(function(){return i.a})),e.d(t,"d",(function(){return g})),e.d(t,"c",(function(){return B})),e.d(t,"b",(function(){return L}));var o,r,c,i=e(14),a=e(4),u=e(0),s=e.n(u),f=e(7),b=e(5),d=function(n,t){for(var e,o=Array.from({length:f.a*n},(function(t,e){return{i:Math.floor(e/n),j:e%n,value:""}})),r=0;r<t;)"B"!==o[e=Math.floor(Math.random()*f.a*n)].value&&(o[e].value="B",p(o,e,n),r+=1);return o},p=function(n,t,e){var o,r,c=Object(b.b)(t,e),i=c.i,a=c.j,u=[i-1,i,i+1],s=[a-1,a,a+1];for(var d in u)for(var p in s){var l;u[d]<0||s[p]<0||s[p]>=e||u[d]>=f.a||n[o=Object(b.a)(s[p],u[d],e)]&&"B"!==(null===(l=n[o])||void 0===l?void 0:l.value)&&(r=n[o].value,n[o].value=r?r+1:1)}},l=e(2),j=e(3),x=j.a.div(o||(o=Object(l.a)(["\n  margin: 20px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n"]))),O=e(6),v=function(){switch(Object(O.a)()){case"SMALL":return 36;case"MEDIUM":return 52;default:return 99}},h=function(){switch(Object(O.a)()){case"SMALL":return 11;case"MEDIUM":return 16;default:return 30}},m=e(1),g=function(){var n=v(),t=h(),e=Object(u.useState)(1),o=Object(a.a)(e,2),r=o[0],c=o[1],s=Object(u.useState)(n),f=Object(a.a)(s,2),b=f[0],p=f[1],l=Object(u.useState)(n),j=Object(a.a)(l,2),O=j[0],g=j[1],w=Object(u.useState)(!1),k=Object(a.a)(w,2),M=k[0],B=k[1],S=Object(u.useState)(!1),C=Object(a.a)(S,2),y=C[0],D=C[1],A=Object(u.useState)(!1),I=Object(a.a)(A,2),U=I[0],E=I[1],F=Object(u.useState)(d(t,n)),N=Object(a.a)(F,2),z=N[0],P=N[1],R=Object(u.useCallback)((function(){p(n),g(n),D(!1),B(!1)}),[p,D,B,n]);Object(u.useEffect)((function(){P(d(t,n)),R()}),[n,R,t]);return Object(m.jsxs)("div",{children:[Object(m.jsxs)(x,{children:[Object(m.jsxs)("div",{children:["Bombs left: ",b]}),Object(m.jsx)(L,{won:M,lost:y,mouseDown:U,restartGame:function(){c((function(){return r+1})),P(d(t,n)),R()}}),Object(m.jsx)("div",{children:y?"You lost!":M?"You won!":"Attempt #".concat(r)})]}),Object(m.jsx)("div",{onMouseDown:function(){return E(!0)},onMouseUp:function(){return E(!1)},children:Object(m.jsx)(i.a,{bombCount:b,updateBombCount:function(n,t){var e=n?-1:1;p(b+e),t&&(g(O+e),O+e===0&&b+e===0&&B(!0))},won:M,lost:y,setLost:D,structure:z,width:t})})]})},w=function(n){return"".concat("/minesweeper-react","/").concat(n)},k=j.a.div(r||(r=Object(l.a)(["\n  flex: 1 1 32px;\n  width: 32px;\n  height: 32px;\n  background-image: url(",");\n  background-position: 0 -78px;\n\n  &.unclicked {\n    background-position: 0 -78px;\n  }\n\n  &.bomb {\n    background-position: ","\n  }\n\n  &.mistakenBomb {\n    background-position: -96px -78px;\n  }\n  \n  &.zero {\n    background-position: 0 -46px;\n  }\n\n  &.flag {\n    background-position: -32px -78px;\n  }\n\n  &.one {\n    background-position: -32px -46px;\n  }\n\n  &.two {\n    background-position: -64px -46px;\n  }\n\n  &.three {\n    background-position: -96px -46px;\n  }\n\n  &.four {\n    background-position: -128px -46px;\n  }\n\n  &.five {\n    background-position: -160px -46px;\n  }\n\n  &.six {\n    background-position: -192px -46px;\n  }\n\n  &.seven {\n    background-position: -224px -46px;\n  }\n\n  &.eigth {\n    background-position: -256px -46px;\n  }\n"])),w("sprite200.gif"),(function(n){return n.mistakeWasHere?"-64px -78px":"-128px -78px;"})),M=Object.freeze({0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eigth",B:"bomb",MB:"mistakenBomb",F:"flag",U:"unclicked"}),B=s.a.forwardRef((function(n,t){var e=n.hasMine,o=n.value,r=n.won,c=n.lost,i=n.setLost,s=n.updateBombCount,f=n.row,b=n.column,d=n.revealNeighborhood,p=Object(u.useState)(!1),l=Object(a.a)(p,2),j=l[0],x=l[1],O=Object(u.useState)(!1),v=Object(a.a)(O,2),h=v[0],g=v[1],w=Object(u.useState)("U"),B=Object(a.a)(w,2),S=B[0],L=B[1];Object(u.useEffect)((function(){c?"F"===S?e||L("MB"):L(o||0):(L("U"),x(!1),g(!1))}),[c,e,L,o]);return Object(m.jsx)(k,{ref:t,onClick:function(n){n.preventDefault(),j||c||r||"F"===S||(x(!0),e?(L("B"),i(!0)):L(o||0),""===o&&d(f,b))},onContextMenu:function(n){if(n.preventDefault(),!(j||c||r)){var t=!h;s(t,e),g(t),L(t?"F":"U")}},mistakeWasHere:e&&j,className:"row".concat(f+1,"_column").concat(b+1," ").concat(M[S]),"data-testid":"minefield"})})),S=j.a.div(c||(c=Object(l.a)(["\n  background-image: url(",");\n  background-position: "," -110px;\n  width: 52px;\n  height: 52px;\n"])),w("sprite200.gif"),(function(n){return n.startPosition})),L=function(n){var t=n.won,e=n.lost,o=n.mouseDown,r=n.restartGame,c=t?"-208px":e?"-156px":o?"-104px":"0";return Object(m.jsx)(S,{startPosition:c,onClick:function(){return r()}})}}},[[31,1,2]]]);
//# sourceMappingURL=main.72d90f35.chunk.js.map